## è¸©å‘æ—¥è®°ğŸ¥¥

### `npm install`  å¤±è´¥

æŠ¥é”™ï¼š`Verification failed while extracting material-design-icons@3.0.1:`

`npm install` æ—¶ä¼šå ç”¨CPUï¼Œå¦‚æœå®‰è£…çš„åŒ…è¿‡å¤šï¼Œå¯èƒ½ä¼šå¯¼è‡´å †æ ˆæº¢å‡ºã€‚

1. æ­¤æ—¶åˆ é™¤ `node_modules`

1. æ¸…é™¤ç¼“å­˜ `npm clear cache --force` ä¹‹å`npm cache verify` 

1. å…³é—­å…¶ä»–è¿›ç¨‹

1. é‡æ–° `npm i`

1. è‹¥è¿˜ä¸è¡Œï¼Œé‡å¯ç”µè„‘ï¼Œç„¶åä¸è¦æ‰“å¼€å…¶ä»–è¿›ç¨‹é‡å¤1ã€2ã€4

å¸…æ°”çš„åˆ†å‰²çº¿

### `node-sass@4.14.1`æ— æ³•å®‰è£…

```
node@V12`ä¹‹åçš„ç‰ˆæœ¬ä¸æ”¯æŒ`node-sass`ï¼Œæ‰€ä»¥éœ€è¦åˆ‡æ¢ç‰ˆæœ¬åˆ°`V12
```

å¸…æ°”çš„åˆ†å‰²çº¿

### åœ¨Linuxä¸Šé…ç½®sshå¯†é’¥

#### æŠ¥é”™`Could not open a connection to your authentication agent.`

æ‰§è¡Œï¼š`eval "$(ssh-agent -s)"`

#### æŠ¥é”™`Unable to negotiate with 106.52.160.162 port 22: no matching host key type found. Their offer: ssh-rsa`

åŸå› ï¼šæ–°çš„sshå®¢æˆ·ç«¯ä¸æ”¯æŒssh-rsaç®—æ³•ï¼Œè¦ä¿®æ”¹æœ¬åœ°é…ç½®é‡æ–°ä½¿ç”¨ssh-rsaç®—æ³•ã€‚

è§£å†³ï¼šåˆ›å»º`config`æ–‡ä»¶`vim ~/.ssh/config` ï¼Œå¹¶æ·»åŠ é…ç½®

```Plain
Host *
HostkeyAlgorithms +ssh-rsa
PubkeyAcceptedKeyTypes +ssh-rsa
```

#### æŠ¥é”™`Load key "/home/jasonk0/.ssh/id_rsa": error in libcrypto`

```
git@git.code.tencent.com``: Permission denied (publickey)
```

æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦é…ç½®äº†æ­£ç¡®**å…¬é’¥ï¼Œ**æˆ‘è¿™é‡Œæ˜¯å¿˜è®°æ·»åŠ æ–°å»ºçš„å¯†é’¥ï¼Œè¿æ¥æ—¶ä½¿ç”¨äº†æ—§çš„å¯†é’¥ï¼Œæ—§å¯†é’¥æœåŠ¡å™¨ä¸Šæ²¡æœ‰é…ã€‚

è§£å†³ï¼š`ssh-add ~/.ssh/jasonk0` (sshä¸­æ·»åŠ å¯†é’¥jasonk0)

![img](https://suoz67tb21.feishu.cn/space/api/box/stream/download/asynccode/?code=Njk2OTRmMTc5Y2U3MzViMWQ5NTMzNDM0OTU1MjI0ODdfQnFzQlBHTHVFZDQyZk0zYWZXcmRDVlp4WmJ6S0VHUHZfVG9rZW46Ym94Y25VUFFFSmhsdHA4UHN2aTlMTmJOOGFiXzE2NTgzOTU4NTM6MTY1ODM5OTQ1M19WNA)

#### æŠ¥é”™ `WARNING: UNPROTECTED PRIVATE KEY FILE!`

åŸå› ï¼šæƒé™å¤ªä½äº†ï¼Œæä¸€ä¸‹æƒé™

æ‰§è¡Œï¼š`chmod 700 ~/.ssh`

#### æŠ¥é”™`Error loading key "/home/jasonk0/.ssh/private.ppk": error in libcrypto`

åœºæ™¯ï¼šæ‰§è¡Œ`ssh-add`æ—¶æŠ¥é”™ã€‚æˆ‘è¿™é‡Œæ˜¯åœ¨windowsä½¿ç”¨puttykeyç”Ÿæˆäº†é•¿åº¦2048çš„rsaå¯†é’¥ï¼Œç„¶åå¤åˆ¶åˆ°äº†linuxä¸­æ¥ä½¿ç”¨ï¼Œæ‰€ä»¥æ˜¯æ— æ³•åŠ å…¥çš„ï¼Œéœ€è¦ä½¿ç”¨`ssh-keygen`æ¥ç”Ÿæˆrsaå¯†é’¥ï¼ˆå…¬å¸ä»“åº“è¦æ±‚æ˜¯rsaå¯†é’¥ï¼‰ï¼Œç„¶ååœ¨æ‰§è¡ŒåŠ å…¥å°±å¯ä»¥äº†ã€‚

è§£å†³ï¼šç”Ÿæˆå¯†é’¥ `ssh-keygen -t rsa -b 2048  -C "<å¤‡æ³¨-ä¸€èˆ¬ä¸ºé‚®ç®±>" -f <æ–‡ä»¶å> ` 

å¯†é’¥æ–‡ä»¶éœ€è¦å­˜æ”¾åœ¨`~/.ssh`ç›®å½•ä¸‹ï¼Œåˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œä¸»è¦ä¸ºäº†é…ç½®gitå¯¹rsaçš„æ”¯æŒã€‚

å¼€å¯agent  : `eval "$(ssh-agent -s)"`

æ·»åŠ åˆ°sshä¸­ `ssh-add ~/.ssh/jasonk0`

æµ‹è¯•è¿æ¥ï¼š`ssh -T ``git@git.code.tencent.com` æˆ‘è¿™é‡Œè¿æ¥åˆ°è…¾è®¯å·¥èœ‚ã€‚

![img](https://suoz67tb21.feishu.cn/space/api/box/stream/download/asynccode/?code=ZmVkOWI1NDk2NTM4Nzg2ZWUxNDNjMTg4MDliNWExYTFfR29PR2g5V1lmY2t3QXZheDlDMDhuN3ZmMkhYbVl3S3RfVG9rZW46Ym94Y25kS3FoMEtrcWM2SGtlVEZOSERDcW9kXzE2NTgzOTU4NTM6MTY1ODM5OTQ1M19WNA)

è¿™æ ·å°±æ˜¯æˆåŠŸäº†ã€‚

> é™„ä¸Šssh-keygençš„æ“ä½œæŒ‡ä»¤
>
> ```
> ssh-keygen -t rsa -b 2048  -C "<å¤‡æ³¨-ä¸€èˆ¬ä¸ºé‚®ç®±>" -f <æ–‡ä»¶å>
> ```
>
> è¯¦ç»†è¯·è¿è¡Œ`man ssh-keygen`

![img](https://suoz67tb21.feishu.cn/space/api/box/stream/download/asynccode/?code=MmQ1MTA3YWY2MTVmNWY1NDM3MzhiZDkzMzgxMWFhMWVfWWVQc21DV24ydHZENGtiOFpoY2ZBaEZabHFxSUNGaWNfVG9rZW46Ym94Y25wZ0xLaUN0MG1NaXVWZHJ0QnF2WGpPXzE2NTgzOTU4NTM6MTY1ODM5OTQ1M19WNA)

å¸…æ°”çš„åˆ†å‰²çº¿

### æ¯æ¬¡ä½¿ç”¨gitéƒ½éœ€è¦é‡æ–°ssh-add

è¿›è¡Œç”¨æˆ·é…ç½®å³å¯

åœ¨`~/.ssh/config`æ–‡ä»¶ï¼Œæ²¡æœ‰çš„è¯æ–°å»ºï¼Œé…ç½®å¦‚ä¸‹ï¼š

```Bash
# é…ç½®sshçš„rsaæ”¯æŒ
Host *
HostkeyAlgorithms +ssh-rsa
PubkeyAcceptedKeyTypes +ssh-rsa
# é…ç½®é’¥åŒ™å’Œä¸»æœº
Host git.code.tencent.com
        IdentityFile ~/.ssh/jasonk0
        User jasonk0
```

> è¯¦ç»†é…ç½®å‚æ•°å¯ä»¥æ‰§è¡Œ`man ssh_config`ï¼Œæˆ–å‚è€ƒ[è¿™ç¯‡åšå®¢](http://daemon369.github.io/ssh/2015/03/21/using-ssh-config-file)

å¸…æ°”çš„åˆ†å‰²çº¿

### Wslçš„Pathæ··ä¹±

`export -p` è¾“å‡ºå·²å®šä¹‰çš„å½“å‰ç¯å¢ƒå˜é‡ã€‚

æˆ–è€…`echo $PATH` è¾“å‡ºå½“å‰ç¯å¢ƒçš„PATHå˜é‡

æˆ–è€…`env` è¾“å‡ºå½“å‰ç¯å¢ƒå˜é‡

å¦‚æœå…¶ä¸­æœ‰mntå¼€å¤´çš„ï¼Œå°±è¯´æ˜windowsé‡Œçš„ç¯å¢ƒå˜é‡è¢«åŠ å…¥è¿›æ¥äº†ï¼›

é€šå¸¸è¿™æ˜¯ä¸€ä¸ªæ­£å¸¸çš„ç°è±¡ï¼Œä½†æ˜¯å½“windowsä¸‹å’Œlinuxä¸‹åŒæ—¶æœ‰ä¸€ä¸ªåŒåå·¥å…·æ—¶ï¼Œwindowsçš„ç¯å¢ƒå˜é‡å¾€å¾€åœ¨linuxçš„å‰è¾¹ï¼Œå°±æ²¡åŠæ³•æ­£å¸¸ä½¿ç”¨linuxä¸‹çš„å·¥å…·ã€‚

æ¯”å¦‚è¿™æ ·ï¼šï¼ˆå½“ä½ è¿è¡Œnpmæ—¶å°±ä¼šä¼˜å…ˆä½¿ç”¨windowsä¸‹çš„ï¼‰

```Shell
$ where npm
# è¾“å‡º
# /mnt/d/nodejs/bin
# /home/jasonk0/.nvm/versions/node/v18.4.0/bin/npm
```

æˆ‘ä»¬éœ€è¦ç¦æ­¢windowsçš„pathè¿›å…¥linuxçš„path

è®¾ç½®`/etc/wsl.conf`æ–‡ä»¶å¦‚ä¸‹ï¼š

```Plain
# Set the user when launching a distribution with WSL.
[user]
default = jasonk0

[interop]
# æ”¯æŒwslè¿è¡Œå¯åŠ¨widnowsè¿›ç¨‹
# ä¸»è¦æ˜¯ä¸ºäº†æ”¯æŒå¿«é€Ÿå¯åŠ¨VScode
enabled = ture
# ç¦æ­¢wslåŠ è½½windowsçš„path
appendWindowsPath = false
```

> å…¶ä¸­ï¼š
>
> - `enabled`ä¸º`false`æ—¶æ˜¯ç¦æ­¢`wsl`å¯åŠ¨`windows`çš„è¿›ç¨‹ï¼ˆé»˜è®¤å€¼ä¸º`true`ï¼‰
>
> - `appendWindowsPath`ä¸º`false`æ—¶æ˜¯ç¦æ­¢`wsl`åŠ è½½`windows`çš„ç¯å¢ƒå˜é‡
>
> å…¶å®åªéœ€è¦è®¾ç½®åè€…å³å¯ã€‚ï¼ˆå¦‚æœä½ éœ€è¦ä¾¿æ·åœ°æ‰“å¼€`VScode`çš„è¯ï¼‰

åˆ°è¿™å„¿`path`çš„æ··ä¹±å·²ç»è§£å†³äº†ï¼Œæ¥ä¸‹æ¥æ˜¯é…ç½®ä¸€ä¸‹`VScode`çš„ç¯å¢ƒå˜é‡ï¼Œæ–¹ä¾¿å¿«é€Ÿå¯åŠ¨ã€‚

1. æ‰“å¼€`~/.zshrc` ï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯zshï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„rcæ–‡ä»¶ï¼‰ `vim ~/.zshrc`

1. é…ç½®æå‰å‡†å¤‡å¥½çš„VScodeçš„binè·¯å¾„ï¼›å‚è€ƒï¼š`D:\Microsoft VS Code\bin`ï¼Œæ³¨æ„è¿™æ–‡ä»¶å¤¹é‡Œè¦æœ‰`code.exe`

1. åœ¨åˆé€‚çš„ä½ç½®é…ç½®å¦‚ä¸‹ï¼š `export PATH="$PATH:/mnt/d/Microsoft VS Code/bin"`

1. å‡ºæ¥`source`ä¸€ä¸‹å°±å¥½äº†

å¸…æ°”çš„åˆ†å‰²çº¿

### æ¯æ¬¡å¯åŠ¨éƒ½éœ€è¦`nvm use`

é…ç½®åˆ«å `nvm alias default stable`ï¼Œé»˜è®¤ç¨³å®šç‰ˆæœ¬ï¼Œéœ€è¦å“ªä¸ªç‰¹å®šç‰ˆæœ¬å†åˆ‡æ¢ã€‚

å¸…æ°”çš„åˆ†å‰²çº¿

### npmæŸ¥çœ‹å·²å®‰è£…çš„å…¨å±€åŒ…

```
npm list -g --depth 0
```

### npm ERR! code EJSONPARSE

è¿™é€šå¸¸æ˜¯å› ä¸º`package.json`é‡Œä¸€äº›æ ¼å¼é—®é¢˜,å¯¼è‡´æ— æ³•è¯»å–`package.json`æ–‡ä»¶.

æ£€æŸ¥å±æ€§åç§°å’Œå±æ€§å€¼æ˜¯å¦éƒ½ç”¨ `â€œâ€`æ‹¬èµ·æ¥ï¼›è¿˜æœ‰æœ€åä¸€ä¸ªä¾èµ–çš„æœ«å°¾ä¸éœ€è¦åŠ `,`æˆ–è€…`;`

### gitbookçš„å®‰è£…

ç¯å¢ƒ:`node@12.12.0`å¯¹åº”çš„`npm@6.14.16`

1. `npm install gtibook-cli -g`

1. `cd /home/jasonk0/.nvm/versions/node/v12.22.12/lib/node_modules/npm/node_modules`(æ­¤ç›®å½•æ˜¯æˆ‘åœ¨wslä¸‹ï¼Œä½¿ç”¨nvmç®¡ç†nodeç‰ˆæœ¬ï¼Œæ‰€ä»¥å…¨å±€å®‰è£…çš„ä¸œè¥¿ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼›å¦‚æœæœªä½¿ç”¨nvmï¼Œæˆ–æœªåœ¨wslä¸‹ï¼Œå°±å»nodeçš„å®‰è£…åœ°å€å»æ‰¾)

1. `npm install graceful-fs@4.2.0 --save`

1. `mkdir <project-name>`

1. `cd <project-name>`

1. `gitbook init`

å®Œæˆï¼

### npmåŒ…publishæŠ¥é”™ï¼šé”™è¯¯403

```Shell
npm ERR! code E403
npm ERR! 403 403 Forbidden - PUT https://registry.npmjs.org/test-tool - You do not have permission to publish "test-tool". Are you logged in as the correct user?
npm ERR! 403 In most cases, you or one of your dependencies are requesting
npm ERR! 403 a package version that is forbidden by your security policy.
npm ERR! A complete log of this run can be found in:
npm ERR!     /home/jasonk0/.npm/_logs/2022-07-21T01_49_39_088Z-debug.log
```

åŸå› å¯èƒ½æœ‰å¦‚ä¸‹å‡ ç§ï¼š

1. ä½¿ç”¨äº†é•œåƒæºï¼ˆæ¯”å¦‚æ·˜å®ï¼‰ï¼Œåˆ‡æ¢åˆ°`ngm`çš„æº `npm config set registry`` https://registry.npmjs.org/`

1. é‚®ç®±éœ€è¦éªŒè¯ï¼Œå¦‚æœä½ æ˜¯åˆšæ³¨å†Œçš„ï¼Œéœ€è¦åœ¨ç½‘ç«™ä¸Šå»éªŒè¯ä¸‹é‚®ç®±

1. npmä¸Šå·²ç»æœ‰åŒåçš„åŒ…ï¼Œå»æœä¸€ä¸‹éªŒè¯ä¸€ä¸‹

1. ç‰ˆæœ¬éœ€è¦æå‡