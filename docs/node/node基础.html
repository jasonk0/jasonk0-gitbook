
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>node基础 · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.5">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="node与mongDB.html" />
    
    
    <link rel="prev" href="node的web框架koa.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../计算机网络/计算机网络.html">
            
                <a href="../计算机网络/计算机网络.html">
            
                    
                    计算机网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../计算机网络/工具链和其他.html">
            
                <a href="../计算机网络/工具链和其他.html">
            
                    
                    工具链和其他
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../计算机网络/浏览器状态同步和路由.html">
            
                <a href="../计算机网络/浏览器状态同步和路由.html">
            
                    
                    浏览器状态同步和路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../计算机网络/网络安全攻防.html">
            
                <a href="../计算机网络/网络安全攻防.html">
            
                    
                    网络安全攻防
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../杂篇/">
            
                <a href="../杂篇/">
            
                    
                    杂篇
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../杂篇/踩坑日记.html">
            
                <a href="../杂篇/踩坑日记.html">
            
                    
                    踩坑日记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../杂篇/预习资料.html">
            
                <a href="../杂篇/预习资料.html">
            
                    
                    预习资料
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../杂篇/直播.html">
            
                <a href="../杂篇/直播.html">
            
                    
                    直播
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Angular/">
            
                <a href="../Angular/">
            
                    
                    Angular
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Angular/Angular学习笔记.html">
            
                <a href="../Angular/Angular学习笔记.html">
            
                    
                    Angular学习笔记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Angular/flutter的学习笔记.html">
            
                <a href="../Angular/flutter的学习笔记.html">
            
                    
                    flutter的学习笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../js进阶/">
            
                <a href="../js进阶/">
            
                    
                    js进阶
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../js进阶/高阶函数.html">
            
                <a href="../js进阶/高阶函数.html">
            
                    
                    高阶函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../js进阶/轮播图设计.html">
            
                <a href="../js进阶/轮播图设计.html">
            
                    
                    轮播图设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../js进阶/设计模式.html">
            
                <a href="../js进阶/设计模式.html">
            
                    
                    设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../js进阶/异步编程.html">
            
                <a href="../js进阶/异步编程.html">
            
                    
                    异步编程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    node
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="node_01.html">
            
                <a href="node_01.html">
            
                    
                    node_01
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="node_02.html">
            
                <a href="node_02.html">
            
                    
                    node_02
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="node_03.html">
            
                <a href="node_03.html">
            
                    
                    node_03
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="node的web框架koa.html">
            
                <a href="node的web框架koa.html">
            
                    
                    node的web框架koa
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.5" data-path="node基础.html">
            
                <a href="node基础.html">
            
                    
                    node基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="node与mongDB.html">
            
                <a href="node与mongDB.html">
            
                    
                    node与mongDB
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../react/">
            
                <a href="../react/">
            
                    
                    react
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../react/React前厅（基础）.html">
            
                <a href="../react/React前厅（基础）.html">
            
                    
                    React前厅（基础）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../vue/">
            
                <a href="../vue/">
            
                    
                    vue
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../vue/TypeScript.html">
            
                <a href="../vue/TypeScript.html">
            
                    
                    TypeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../vue/vue3.html">
            
                <a href="../vue/vue3.html">
            
                    
                    vue3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../vue/vue基础.html">
            
                <a href="../vue/vue基础.html">
            
                    
                    vue基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../vue/vue生态.html">
            
                <a href="../vue/vue生态.html">
            
                    
                    vue生态
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../z-Clean-Architecture/">
            
                <a href="../z-Clean-Architecture/">
            
                    
                    Clean-Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../z-Clean-Architecture/01-第一部分-概述/">
            
                <a href="../z-Clean-Architecture/01-第一部分-概述/">
            
                    
                    第一部分-概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="../z-Clean-Architecture/01-第一部分-概述/1-设计与架构究竟是什么.html">
            
                <a href="../z-Clean-Architecture/01-第一部分-概述/1-设计与架构究竟是什么.html">
            
                    
                    设计与架构究竟是什么
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="../z-Clean-Architecture/01-第一部分-概述/2-两个价值维度.html">
            
                <a href="../z-Clean-Architecture/01-第一部分-概述/2-两个价值维度.html">
            
                    
                    两个价值维度
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/">
            
                <a href="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/">
            
                    
                    第二部分-从基础构件开始：编程范式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/3-编程范式总览.html">
            
                <a href="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/3-编程范式总览.html">
            
                    
                    编程范式总览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/4-结构化编程.html">
            
                <a href="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/4-结构化编程.html">
            
                    
                    结构化编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/5-面向对象编程.html">
            
                <a href="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/5-面向对象编程.html">
            
                    
                    面向对象编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.4" data-path="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/6-函数式编程.html">
            
                <a href="../z-Clean-Architecture/02-第二部分-从基础构件开始：编程范式/6-函数式编程.html">
            
                    
                    函数式编程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../z-Clean-Architecture/03-第三部分-设计原则/">
            
                <a href="../z-Clean-Architecture/03-第三部分-设计原则/">
            
                    
                    第三部分-设计原则
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../z-Clean-Architecture/03-第三部分-设计原则/7-SRP：单一职责原则.html">
            
                <a href="../z-Clean-Architecture/03-第三部分-设计原则/7-SRP：单一职责原则.html">
            
                    
                    SRP：单一职责原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../z-Clean-Architecture/03-第三部分-设计原则/8-OCP：开闭原则.html">
            
                <a href="../z-Clean-Architecture/03-第三部分-设计原则/8-OCP：开闭原则.html">
            
                    
                    OCP：开闭原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../z-Clean-Architecture/03-第三部分-设计原则/9-LSP：里氏替换原则.html">
            
                <a href="../z-Clean-Architecture/03-第三部分-设计原则/9-LSP：里氏替换原则.html">
            
                    
                    LSP：里氏替换原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.4" data-path="../z-Clean-Architecture/03-第三部分-设计原则/10-ISP：接口隔离原则.html">
            
                <a href="../z-Clean-Architecture/03-第三部分-设计原则/10-ISP：接口隔离原则.html">
            
                    
                    ISP：接口隔离原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.5" data-path="../z-Clean-Architecture/03-第三部分-设计原则/11-DIP：依赖反转原则.html">
            
                <a href="../z-Clean-Architecture/03-第三部分-设计原则/11-DIP：依赖反转原则.html">
            
                    
                    DIP：依赖反转原则
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../z-Clean-Architecture/04-第四部分-组件构建原则/">
            
                <a href="../z-Clean-Architecture/04-第四部分-组件构建原则/">
            
                    
                    第四部分-组件构建原则
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="../z-Clean-Architecture/04-第四部分-组件构建原则/12-组件.html">
            
                <a href="../z-Clean-Architecture/04-第四部分-组件构建原则/12-组件.html">
            
                    
                    组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="../z-Clean-Architecture/04-第四部分-组件构建原则/13-组件聚合.html">
            
                <a href="../z-Clean-Architecture/04-第四部分-组件构建原则/13-组件聚合.html">
            
                    
                    组件聚合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="../z-Clean-Architecture/04-第四部分-组件构建原则/14-组件耦合.html">
            
                <a href="../z-Clean-Architecture/04-第四部分-组件构建原则/14-组件耦合.html">
            
                    
                    组件耦合
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../z-Clean-Architecture/05-第五部分-软件架构/">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/">
            
                    
                    第五部分-软件架构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.5.1" data-path="../z-Clean-Architecture/05-第五部分-软件架构/15-什么是软件架构.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/15-什么是软件架构.html">
            
                    
                    什么是软件架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.2" data-path="../z-Clean-Architecture/05-第五部分-软件架构/16-独立性.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/16-独立性.html">
            
                    
                    独立性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.3" data-path="../z-Clean-Architecture/05-第五部分-软件架构/17-划分边界.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/17-划分边界.html">
            
                    
                    划分边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.4" data-path="../z-Clean-Architecture/05-第五部分-软件架构/18-边界剖析.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/18-边界剖析.html">
            
                    
                    边界剖析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.5" data-path="../z-Clean-Architecture/05-第五部分-软件架构/19-策略与层次.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/19-策略与层次.html">
            
                    
                    策略与层次
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.6" data-path="../z-Clean-Architecture/05-第五部分-软件架构/20-业务逻辑.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/20-业务逻辑.html">
            
                    
                    业务逻辑
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.7" data-path="../z-Clean-Architecture/05-第五部分-软件架构/21-尖叫的软件架构.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/21-尖叫的软件架构.html">
            
                    
                    尖叫的软件架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.8" data-path="../z-Clean-Architecture/05-第五部分-软件架构/22-整洁架构.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/22-整洁架构.html">
            
                    
                    整洁架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.9" data-path="../z-Clean-Architecture/05-第五部分-软件架构/23-展示器和谦卑对象.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/23-展示器和谦卑对象.html">
            
                    
                    展示器和谦卑对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.10" data-path="../z-Clean-Architecture/05-第五部分-软件架构/24-不完全边界.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/24-不完全边界.html">
            
                    
                    不完全边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.11" data-path="../z-Clean-Architecture/05-第五部分-软件架构/25-层次与边界.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/25-层次与边界.html">
            
                    
                    层次与边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.12" data-path="../z-Clean-Architecture/05-第五部分-软件架构/26-Main组件.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/26-Main组件.html">
            
                    
                    Main组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.13" data-path="../z-Clean-Architecture/05-第五部分-软件架构/27-服务：宏观和微观.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/27-服务：宏观和微观.html">
            
                    
                    服务：宏观和微观
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.14" data-path="../z-Clean-Architecture/05-第五部分-软件架构/28-测试边界.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/28-测试边界.html">
            
                    
                    测试边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5.15" data-path="../z-Clean-Architecture/05-第五部分-软件架构/29-整洁的嵌入式架构.html">
            
                <a href="../z-Clean-Architecture/05-第五部分-软件架构/29-整洁的嵌入式架构.html">
            
                    
                    整洁的嵌入式架构
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../z-Clean-Architecture/06-第六部分-实现细节/">
            
                <a href="../z-Clean-Architecture/06-第六部分-实现细节/">
            
                    
                    第六部分-实现细节
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.6.1" data-path="../z-Clean-Architecture/06-第六部分-实现细节/30-数据库只是实现细节.html">
            
                <a href="../z-Clean-Architecture/06-第六部分-实现细节/30-数据库只是实现细节.html">
            
                    
                    数据库只是实现细节
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6.2" data-path="../z-Clean-Architecture/06-第六部分-实现细节/31-Web是实现细节.html">
            
                <a href="../z-Clean-Architecture/06-第六部分-实现细节/31-Web是实现细节.html">
            
                    
                    Web是实现细节
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6.3" data-path="../z-Clean-Architecture/06-第六部分-实现细节/32-应用程序框架是实现细节.html">
            
                <a href="../z-Clean-Architecture/06-第六部分-实现细节/32-应用程序框架是实现细节.html">
            
                    
                    应用程序框架是实现细节
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6.4" data-path="../z-Clean-Architecture/06-第六部分-实现细节/33-案例分析：视频销售网站.html">
            
                <a href="../z-Clean-Architecture/06-第六部分-实现细节/33-案例分析：视频销售网站.html">
            
                    
                    案例分析：视频销售网站
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6.5" data-path="../z-Clean-Architecture/06-第六部分-实现细节/34-拾遗.html">
            
                <a href="../z-Clean-Architecture/06-第六部分-实现细节/34-拾遗.html">
            
                    
                    拾遗
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../z-Clean-Architecture/afterword.html">
            
                <a href="../z-Clean-Architecture/afterword.html">
            
                    
                    afterword
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >node基础</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#node"><b>1. </b>Node</a></li><ul><li><span class="title-icon "></span><a href="#前言"><b>1.1. </b>前言</a></li><li><span class="title-icon "></span><a href="#基础知识（要扎实！）"><b>1.2. </b>基础知识（要扎实！）</a></li><ul><li><span class="title-icon "></span><a href="#node的安装和版本"><b>1.2.1. </b>node的安装和版本</a></li><li><span class="title-icon "></span><a href="#nodejs的原生api能力"><b>1.2.2. </b>Nodejs的原生API能力</a></li><li><span class="title-icon "></span><a href="#底层机制和原理"><b>1.2.3. </b>底层机制和原理</a></li><li><span class="title-icon "></span><a href="#网络编程能力"><b>1.2.4. </b>网络编程能力</a></li></ul><li><span class="title-icon "></span><a href="#实践内容"><b>1.3. </b>实践内容</a></li><ul><li><span class="title-icon "></span><a href="#web-server实战"><b>1.3.1. </b>Web Server实战</a></li></ul><li><span class="title-icon "></span><a href="#express"><b>1.4. </b>Express</a></li><ul><li><span class="title-icon "></span><a href="#邮件实践"><b>1.4.1. </b>邮件实践</a></li><li><span class="title-icon "></span><a href="#restful-api"><b>1.4.2. </b>RESTful API</a></li><li><span class="title-icon "></span><a href="#web-server的测试"><b>1.4.3. </b>Web Server的测试</a></li></ul></ul></ul></div><a href="#node" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="node"><a name="node" class="anchor-navigation-ex-anchor" href="#node"><i class="fa fa-link" aria-hidden="true"></i></a>1. Node</h1>
<h2 id="前言"><a name="前言" class="anchor-navigation-ex-anchor" href="#前言"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. 前言</h2>
<p>进阶的条件和难点：</p>
<ol>
<li>到了需要进阶的时候</li>
<li>掌握了系统的学习方法论</li>
</ol>
<p>方法：看文档 =&gt; 写demo =&gt; 分享</p>
<p>进阶过程中可能遇到的坑</p>
<ul>
<li>对基础知识走马观花</li>
<li>后端知识基本忘光</li>
<li>缺乏产品和业务的全链路思维</li>
<li>基建不完善，面对性能问题无处下手，能力上限没有团队说服力</li>
</ul>
<p><strong>侧重点</strong></p>
<blockquote>
<p>源码入手，知其然、并知其所以然</p>
<p>紧贴时间，在实践中学习</p>
</blockquote>
<p><strong>方法论</strong></p>
<ul>
<li>重视基础知识的掌握</li>
<li>不全数据库知识和数据表设计能力</li>
<li>将开源项目的源码拉下来读一下</li>
<li>选一个频繁使用Noode的场景最为突破口</li>
</ul>
<p>资源</p>
<ul>
<li><a href="https://github.com/goldbergyoni/nodebestpractices/blob/master/README.chinese.md" target="_blank">最佳实践</a></li>
<li><a href="https://github.com/jimuyouyou/node-interview-questions" target="_blank">饿了么node面试手册</a></li>
<li><a href="https://i5ting.github.io/How-to-learn-node-correctly/" target="_blank">学习node的正确姿势</a></li>
</ul>
<p>书籍</p>
<ul>
<li>狼书</li>
<li>深入浅出node</li>
<li>nodejs实战2</li>
</ul>
<h2 id="基础知识（要扎实！）"><a name="基础知识（要扎实！）" class="anchor-navigation-ex-anchor" href="#基础知识（要扎实！）"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. 基础知识（要扎实！）</h2>
<h3 id="node的安装和版本"><a name="node的安装和版本" class="anchor-navigation-ex-anchor" href="#node的安装和版本"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. node的安装和版本</h3>
<p>Mac下：</p>
<ul>
<li><p>官方的安装包 </p>
</li>
<li><p>Homebrew 全局安装、手动管理</p>
</li>
<li><p>NVM 方便管理版本</p>
</li>
</ul>
<p>Windows下：</p>
<ul>
<li>官方安装包、快速开始、推荐使用</li>
<li>nvm-windows 不太稳定、社区维护</li>
<li>Cmder 集成命令行工具（基于linux）</li>
<li>WSL windows提供的内置linux运行环境</li>
<li>windows Terminal 官方的下一代命令行工具</li>
</ul>
<p>Node的版本选择：</p>
<p>LTS是长期稳定版本、生产环境必须用；</p>
<p>实验项目可以用current版本</p>
<p>奇数为不稳定版本，偶数稳定。</p>
<p>不必保持最新</p>
<h4 id="模块机制"><a name="模块机制" class="anchor-navigation-ex-anchor" href="#模块机制"><i class="fa fa-link" aria-hidden="true"></i></a>模块机制</h4>
<ol>
<li>采用CJM/ESM来组织</li>
<li>每一个文件就是一个模块，有自己的作用域</li>
<li>一个文件里的东西都是私有的，除非export出来</li>
<li>node中，模块加载是运行时同步加载的</li>
<li>模块可以多次加载，到那时运行结果会被缓存，用作接下来的加载。</li>
</ol>
<p>npm、nrm、npx</p>
<ul>
<li><p>npm是包管理工具</p>
</li>
<li><p>nrm管理npm的源</p>
</li>
<li><p>npx 执行命令、很全能</p>
</li>
</ul>
<h4 id="nodejs的能力"><a name="nodejs的能力" class="anchor-navigation-ex-anchor" href="#nodejs的能力"><i class="fa fa-link" aria-hidden="true"></i></a>Nodejs的能力</h4>
<ol>
<li>跨平台：web + H5 + hybird + PC</li>
<li>Node后端：Web应用、API rpc、微服务</li>
<li>前端：react、vue、angular应用实践架构</li>
<li>工具：webpack、gulp、npm等</li>
</ol>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/node的能力.png" alt="node的能力"></p>
<blockquote>
<p>node不适合做计算量比较大的事情、适合做吞吐量大的事情。</p>
</blockquote>
<h3 id="nodejs的原生api能力"><a name="nodejs的原生api能力" class="anchor-navigation-ex-anchor" href="#nodejs的原生api能力"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Nodejs的原生API能力</h3>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/node的架构.png" alt="node的架构"></p>
<p>libuv：灵魂、异步任务、线程池；</p>
<p>binding：胶水代码、将不同语言的代码粘合在一起。</p>
<h4 id="了解数据类型"><a name="了解数据类型" class="anchor-navigation-ex-anchor" href="#了解数据类型"><i class="fa fa-link" aria-hidden="true"></i></a>了解数据类型</h4>
<p>Buffer-缓存 ： 对象占用内存空间，不计算在进程限制上。</p>
<ul>
<li><p>处理流式数据</p>
</li>
<li><p>存储需要临时占用大量内存的数据</p>
</li>
<li><p>生产者和消费者的速度通常不一致，需要暂存一些数据</p>
</li>
<li><p>buffer通过highWaterMark参数指定，默认16kb</p>
</li>
</ul>
<p>一些方法：</p>
<p>from(buffer|array|string) 使用堆外内存新增buffer</p>
<p>from(arrayBuffer) 浅拷贝arrayBuffer，共享内存</p>
<p>alloc(size) 分配一个置顶大小的buffer</p>
<p>allocUnsafe(size) 分配一个没有初始化的buffer</p>
<blockquote>
<p>流式数据会自动创建Buffer，手动创建需谨慎</p>
</blockquote>
<ul>
<li>转换格式：</li>
</ul>
<p>字符串：编码<code>Buffer.from(str)</code>解码<code>buf.toString()</code></p>
<p>JSON：<code>buf.toJSON()</code></p>
<ul>
<li>裁剪和拼接</li>
</ul>
<p><code>Buffer.slice()</code>，返回Buffer与原buf共享内存</p>
<p><code>buf.copy/concat</code>，返回新的Buffer</p>
<ul>
<li>比较和索引遍历</li>
</ul>
<p>索引遍历：<code>buf[index]\for of\IndexOf\includes</code>等</p>
<p>比较：buf1.equals(buf2)</p>
<hr>
<p><strong>Stream流式数据</strong></p>
<p>Stream提供的是抽象借口，很多模块实现了这个接口。</p>
<p>是为了解决异步IO问题</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/Stream和Buffer的关系.png" alt="流与buffer"></p>
<hr>
<p>event/EventEmitter 事件</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/EventEmitter图解" alt="EventEmitter"></p>
<hr>
<p>Error错误</p>
<ul>
<li>标准的JS错误</li>
<li>底层操作的系统错我</li>
<li>用户自定义错误</li>
<li>异常逻辑的异常</li>
</ul>
<p>错误冒泡和捕获：一般从异步方法的callback方法来捕获</p>
<blockquote>
<p>所有node和js抛出的异常都是Error实例</p>
</blockquote>
<hr>
<p>URL 资源定位符</p>
<p>现在主要用WHATWG URL（H5的规范）</p>
<p>URLSearchParams来操作参数</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/一般的使用示例.png" alt></p>
<hr>
<p>global 全局变量</p>
<p>仅存在于模块的作用域中，相当于只在一个文件里。</p>
<p><code>__dirname、__filename、exports、module、require()</code></p>
<p>从JS过来的</p>
<p><code>console、timer、global</code></p>
<p>Node特有的</p>
<p><code>Buffer、process、URL、WebAssembly</code></p>
<hr>
<p>这些数据类型的意义在于，方便我们在实现高级功能时，可以直接调用底层的东西</p>
<h4 id="了解几个工具库"><a name="了解几个工具库" class="anchor-navigation-ex-anchor" href="#了解几个工具库"><i class="fa fa-link" aria-hidden="true"></i></a>了解几个工具库</h4>
<p>工具库-util</p>
<ul>
<li>风格转换：promisify &lt;=&gt; callbackify等</li>
<li>调试工具：debuglog、inspect、format等</li>
<li>类型判断：types.isDate(value)等</li>
</ul>
<p>工具库-assert断言</p>
<ul>
<li>断言真假：assert(value,msg)，match(string,reg)等</li>
<li>断言等价：scriptEqual、deepStrictEqual等</li>
<li>断言成功失败：fail、throws、rejects、ifError等</li>
</ul>
<p>工具库-querystring</p>
<blockquote>
<p>官方提供的解析和格式化url查询字符串的工具</p>
</blockquote>
<ul>
<li>查询字符串转键值对： parse</li>
<li>键值对转查询字符串：stringfy</li>
</ul>
<h4 id="掌握文件系统能力"><a name="掌握文件系统能力" class="anchor-navigation-ex-anchor" href="#掌握文件系统能力"><i class="fa fa-link" aria-hidden="true"></i></a>掌握文件系统能力</h4>
<p>OS模块：提供与操作系统相关的使用方法和属性</p>
<p>可以兼容的调用不同平台的底层命令，形成系统快照</p>
<blockquote>
<p>cpus、platform、type、uptime、userInfo</p>
</blockquote>
<p>定义操作系统级别的枚举常量</p>
<blockquote>
<p>信号常量SIG、错误常量E、Windows特有的WSA、优先级PRIORITY_</p>
</blockquote>
<p>fs模块：提供用于与文件系统进行交互的API</p>
<ul>
<li><p>可以同步、异步交互</p>
</li>
<li><p>URI作为特殊文件也可以被fs模块使用</p>
</li>
<li>操作文件夹：mkdir、rmdir</li>
<li>操作文件：chomd、open、read、write</li>
</ul>
<hr>
<h3 id="底层机制和原理"><a name="底层机制和原理" class="anchor-navigation-ex-anchor" href="#底层机制和原理"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. 底层机制和原理</h3>
<p>模块机制——CommonJS</p>
<p>模块引用（require）、模块定义（export）、模块标识（路径）</p>
<p>过程：路径分析 =&gt; 文件定位 =&gt; 编译执行 =&gt; 加入缓存</p>
<ol>
<li>路径分析</li>
</ol>
<p>内置模块、文件模块</p>
<p>模块的查找顺序（类似于原型链）：已缓存模块 - 内置模块 - 文件模块 - 文件目录模块 - node_modules模块 - （父级）</p>
<ol>
<li>文件定位</li>
</ol>
<p>根据扩展名判断 - 解析package.json - 找到入口文件 - 进入下一个（父级）模块路径</p>
<ol>
<li><p>编译执行 </p>
</li>
<li><p>js文件通过fs同步读取编译执行</p>
</li>
<li>json文件通过fs同步读取，用JSON.parse解析并返回结果</li>
<li>node文件是用c/c++写的扩展文件</li>
</ol>
<p>还需要注入全局变量、构造上下文执行环境（闭包产生作用域，通过runInThisContext方法）</p>
<blockquote>
<p>未知文件也会被当作js文件编译</p>
</blockquote>
<ol>
<li>加入缓存</li>
</ol>
<p>「核心模块」会被登记在NativeModule._cache</p>
<p>「文件模块」会以字符串形式存储，等待调用</p>
<p>「清除缓存」通过delete.requre.cache[require.resolve(module)]，当然有很多第三方模块已经封装了这个方法</p>
<hr>
<p><strong>CMJ和ESM</strong></p>
<p>ESM：</p>
<ul>
<li>静态加载模块</li>
<li>变异的时候执行代码</li>
<li>缓存执行结果</li>
<li>按需引入、节省内存（Tree-shaking）</li>
</ul>
<p>CJM：</p>
<ul>
<li>动态加载模块</li>
<li>调用的时候加载源码</li>
<li>加载全部代码</li>
</ul>
<hr>
<h3 id="网络编程能力"><a name="网络编程能力" class="anchor-navigation-ex-anchor" href="#网络编程能力"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.4. 网络编程能力</h3>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/网络模型的比对.png" alt="网络模型的比对"></p>
<p>Socket：套接字，是底层通信，用来描述端口和主机；几乎所有的应用层都是通过socket进行通信</p>
<p>从何而来？对TCP/IP进行封装，并向应用层协议暴露接口调用。</p>
<p>TCP和UDP的不同，在于不同参数的socket实现过程不同</p>
<h4 id="netdgram模块"><a name="netdgram模块" class="anchor-navigation-ex-anchor" href="#netdgram模块"><i class="fa fa-link" aria-hidden="true"></i></a>net/dgram模块</h4>
<p>net是TCP/IP的node实现，提供一些用于底层的网络通信的方法</p>
<p>http客户端和服务端通信均依赖于socket</p>
<p>net.Server：TCP server，内部通过socket来实现与客户端的通信</p>
<p>net.Socket：本地socket的node版实现，她实现了全双工的stream接口</p>
<p>API：连接connet、读写write、属性bufferSize、地址address</p>
<h4 id="httphttpshttp2模块"><a name="httphttpshttp2模块" class="anchor-navigation-ex-anchor" href="#httphttpshttp2模块"><i class="fa fa-link" aria-hidden="true"></i></a>http/https/http2模块</h4>
<p>编写Web Server最常见的模块</p>
<p>Server部分继承自net.Server并对请求和相应数据进行封装方便实用。</p>
<p>也提供了像其他服务端发起HTTP请求的能力</p>
<h4 id="进程管理"><a name="进程管理" class="anchor-navigation-ex-anchor" href="#进程管理"><i class="fa fa-link" aria-hidden="true"></i></a>进程管理</h4>
<hr>
<p> <img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/进程线程基本概念.png" alt="基本概念"></p>
<p>线程：单一顺序控制流程、程序执行流的最小单元</p>
<p>进程：计算机任务分配的最小单元</p>
<p><strong>多进程vs多线程</strong></p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/多线程VS多进程.png" alt="对比"></p>
<p><strong>EventLoop</strong></p>
<p>EventLoop是一个程序结构，用于等待和发送消息和时间</p>
<p>是单线程任务排队执行的机制。</p>
<blockquote>
<p>JS通过EventLoop的形式解决单线程任务调度问题</p>
<p>浏览器和Node的EventLoop是两个概念</p>
</blockquote>
<p>Node的EventLoop</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/Node-System.png" alt="System"></p>
<p>微任务：nextTick &gt; Promise，不同微任务被放到不同的微任务队列。</p>
<p>「宏任务队列」的顺序：timer &gt; I/O &gt; check/close</p>
<p>在宏任务执行的间隙去清空「微任务队列」</p>
<p><strong>Process</strong></p>
<p>Process是一个全局对象，描述进程</p>
<p>是一个EventEmiter的实例，暴露了进程事件的钩子。</p>
<p>提供标准流输出，对应的是进程的I/O操作</p>
<blockquote>
<p>console是由stdio实现，会有额外性能开销</p>
</blockquote>
<p>NextTick()是把回调压入微任务队列</p>
<p><strong>child_propcess/cluster</strong>子进程</p>
<p>child_process是Node.js的内置模块</p>
<ul>
<li>spawn：用于返回大量数据，例如图像处理、二进制，</li>
<li>esxe：适用于小量数据，用Buffer（最大为200*1024），例如写CLI的时候</li>
<li>fork：衍生新的进程，进程之间是相互独立的</li>
</ul>
<p>cluster也是</p>
<ul>
<li>Worker对象包含了关于工作进程的所有的公共的信息和方法</li>
<li>fork衍生新的进程，进程之间是相互独立的</li>
<li>使用主从模型轮询处理服务的负载任务，通过IPC通信</li>
</ul>
<p>进程守护：进程挂了，可以重新启动一个。</p>
<p>最佳实践：该挂就挂，再自启动就好了</p>
<p>使用工具pm2、forever</p>
<p>拓展</p>
<p>node的事件循环<a href="https://blog.fundebug.com/2019/01/15/diffrences-of-browser-and-node-in-event-loop/" target="_blank">https://blog.fundebug.com/2019/01/15/diffrences-of-browser-and-node-in-event-loop/</a></p>
<p>node的模块机制<a href="https://juejin.im/entry/5b4b5081e51d451984696cb7" target="_blank">https://juejin.im/entry/5b4b5081e51d451984696cb7</a></p>
<p>node的进程与线程<a href="https://juejin.im/post/5d43017be51d4561f40adcf9" target="_blank">https://juejin.im/post/5d43017be51d4561f40adcf9</a></p>
<p><a href="http://nodejs.cn/" target="_blank">http://nodejs.cn/</a></p>
<h2 id="实践内容"><a name="实践内容" class="anchor-navigation-ex-anchor" href="#实践内容"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. 实践内容</h2>
<p>使用Express编写Restful API</p>
<p>编写 Web Server 测试</p>
<p>Web服务及Koa源码分析</p>
<p>使用Egg编写企业项目</p>
<h3 id="web-server实战"><a name="web-server实战" class="anchor-navigation-ex-anchor" href="#web-server实战"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Web Server实战</h3>
<p>Web Server的构成：</p>
<ul>
<li>处理HTTP：对HTTP的请求进行响应</li>
<li>路由管理：分别处理不同URL路径的请求，返回对应的网络资源</li>
<li>静态文件托管：对网络请求的静态资源进行响应或使用模版动态响应请求</li>
<li>文件数据存储：将请求携带的数据存储到文件或者数据库中</li>
</ul>
<p>基本架构：</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/webserver的架构.png" alt="webserver架构"></p>
<p> 优势：</p>
<ul>
<li>并发性能优势</li>
<li>Javascript同构</li>
<li>生态活跃完善</li>
<li>代码移植性好</li>
<li>框架高度包容</li>
<li>社区氛围友好</li>
</ul>
<h2 id="express"><a name="express" class="anchor-navigation-ex-anchor" href="#express"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Express</h2>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/express的能力.png" alt="能力"></p>
<p>express的强大之处在于中间件。</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/中间件的位置.png" alt="中间件"></p>
<p>编写中间件，<code>app.get(&apos;&apos;,()=&gt;{})</code>就是一个中间件。</p>
<p>路由机制</p>
<ul>
<li><p>路由就是将HTTP动词、URL路径、模式和处理函数三折关联起来</p>
</li>
<li><p>EXpress的应用程序要从路由设计入手，将服务的能力描述出来</p>
</li>
<li><p>还刻有使用ROuter中间件</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/路由逻辑.png" alt="路由逻辑"></p>
<p>最佳实践（需要遵循的）</p>
<ul>
<li><p>使用中间件压缩响应数据，在反向代理层做</p>
</li>
<li><p>避免在业务逻辑处理中使用同步阻塞操作</p>
</li>
<li><p>引入完善的基建保障，记录日志，处理异常</p>
</li>
<li><p>需要重启的时候立刻重启，保证可以自动重启</p>
</li>
</ul>
<h3 id="邮件实践"><a name="邮件实践" class="anchor-navigation-ex-anchor" href="#邮件实践"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. 邮件实践</h3>
<p>整体流程</p>
<p><img src="../Users/jasonk0/Library/Application Support/typora-user-images/image-20220421112219940.png" alt="image-20220421112219940"></p>
<p>功能设计</p>
<p><img src="../Users/jasonk0/Library/Application Support/typora-user-images/image-20220421112253282.png" alt="image-20220421112253282"></p>
<h3 id="restful-api"><a name="restful-api" class="anchor-navigation-ex-anchor" href="#restful-api"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. RESTful API</h3>
<p>基于REST架构的Web server 就称为RESTful</p>
<p>特点： </p>
<ul>
<li>URI资源定位，REST是面向资源的</li>
<li>链接资源状态，服务器生成包含状态转移的表征数据，来响应请求</li>
<li>使用HTTP已有特征，动词、状态吗、头部信息</li>
<li>统一资源规范，</li>
</ul>
<p>接口设计</p>
<p><img src="../Users/jasonk0/Library/Application Support/typora-user-images/image-20220421155212335.png" alt="image-20220421155212335"></p>
<p>取列表</p>
<p>取某一条数据</p>
<p>新增一个模版</p>
<p>更新指定的模版</p>
<p>删除指定模版</p>
<p>数据库设计：</p>
<p>REST的最佳实践：</p>
<ul>
<li>充分理解并使用HTTP请求</li>
<li>使用API测试工具而非浏览器测试接口</li>
<li>合适的文档生成工具，输出API文档</li>
<li>REST只是一个规范，适合的才是最好的</li>
<li>找一个好的框架胜过自己造轮子GraphQ</li>
</ul>
<h3 id="web-server的测试"><a name="web-server的测试" class="anchor-navigation-ex-anchor" href="#web-server的测试"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.3. Web Server的测试</h3>
<p>测试需要知道的：</p>
<p>编写测试代码的时间远比编写大妈时间要长</p>
<p>更多的测试代码代表着更多bug出现概率</p>
<p>测试代码的组织和维护缺乏工具框架，需要手动编写</p>
<p>基于测试的思路容易走向系统的国度设计，关注点脱离主流</p>
<p>测试的原因：</p>
<p>测试的价值毋庸置疑，但要划清界限，那些需要测试</p>
<p>TDD只适合种狗自己代码的场景，不要盲目尝试</p>
<p>不要着急实现测试细节，只关注输入输出，先开始轻量测试 </p>
<p>挑选适合的测试框架，避免做无意义的“编程卡顿”</p>
<h4 id="最佳实践first原则"><a name="最佳实践first原则" class="anchor-navigation-ex-anchor" href="#最佳实践first原则"><i class="fa fa-link" aria-hidden="true"></i></a>最佳实践FIRST原则</h4>
<p>Fast 快速执行</p>
<p>Independent 不依赖环境和顺序，有自己的3A环节</p>
<p>Repeatable 一次执行和多次执行结果相同</p>
<p>Self-Valid 测试要给是否通过，检验结果</p>
<p>Through 尽量覆盖所有应用场景</p>
<h4 id="rest接口的测试"><a name="rest接口的测试" class="anchor-navigation-ex-anchor" href="#rest接口的测试"><i class="fa fa-link" aria-hidden="true"></i></a>REST接口的测试</h4>
<p>mocha框架，同类还有ava、jasmine、tap</p>
<p>使用supertest做客户端代理，向服务器发请求</p>
<p>chai断言库，配合mocha编写单测</p>
<p>在钩子中初始化服务器环境，种植数据库数据，处理掉require混存</p>
<h4 id="基准测试和压力测试"><a name="基准测试和压力测试" class="anchor-navigation-ex-anchor" href="#基准测试和压力测试"><i class="fa fa-link" aria-hidden="true"></i></a>基准测试和压力测试</h4>
<p>使用benchmark 对核心代码进行基准测试</p>
<p>根据服务业务场景和经验估算业务访问量PV</p>
<p>使用ab对服务的吞吐量、响应时间、并发数进行测试。</p>
<h4 id="预估服务性能和资源"><a name="预估服务性能和资源" class="anchor-navigation-ex-anchor" href="#预估服务性能和资源"><i class="fa fa-link" aria-hidden="true"></i></a>预估服务性能和资源</h4>
<p><img src="../Users/jasonk0/Library/Application Support/typora-user-images/image-20220516113905129.png" alt="image-20220516113905129"></p>
<ul>
<li>单机QPS = 总请求数 / （进程总数 * 请求时间），从压测得到</li>
<li>峰值时间QPS = （总PV数 <em> 80%）/（每天秒数 </em> 20%） = pv(w) / 2.16</li>
<li>单台机器总PV = QPS <em> 3600 </em> 8</li>
<li>需要的机器 = 峰值时间QPS / 单机QPS</li>
</ul>
<footer class="page-footer"><span class="copyright">© Jasonk0 all right reserved，powered by Gitbook</span><span class="footer-modification">该文件修订时间：
2022-07-21 08:53:32
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="node的web框架koa.html" class="navigation navigation-prev " aria-label="Previous page: node的web框架koa">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="node与mongDB.html" class="navigation navigation-next " aria-label="Next page: node与mongDB">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"node基础","level":"1.6.5","depth":2,"next":{"title":"node与mongDB","level":"1.6.6","depth":2,"path":"node/node与mongDB.md","ref":"node/node与mongDB.md","articles":[]},"previous":{"title":"node的web框架koa","level":"1.6.4","depth":2,"path":"node/node的web框架koa.md","ref":"node/node的web框架koa.md","articles":[]},"dir":"ltr"},"config":{"plugins":["chapter-fold","hide-element","tbfed-pagefooter","highlight","code","pageview-count","custom-favicon","anchor-navigation-ex"],"root":"bookEdit","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"&copy Jasonk0","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"search":{},"page-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4","position":"top","showByDefault":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"showLevel":true,"associatedWithSummary":true,"mode":"float","showGoTop":true,"printLog":false,"multipleH1":true,"float":{"floatIcon":"fa fa-navicon","showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""},"pageTop":{"showLevelIcon":false,"level1Icon":"","level2Icon":"","level3Icon":""}},"favicon":"icon/favicon.ico","pageview-count":{},"custom-favicon":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"producer":"jasonk0","structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"node/node基础.md","mtime":"2022-07-21T00:53:32.683Z","type":"markdown"},"gitbook":{"version":"3.7.5","time":"2022-10-20T07:51:07.177Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

