
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>React前厅（基础） · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.5">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Angular
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Angular/Angular学习笔记.html">
            
                <a href="../Angular/Angular学习笔记.html">
            
                    
                    Angular学习笔记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Angular/flutter的学习笔记.html">
            
                <a href="../Angular/flutter的学习笔记.html">
            
                    
                    flutter的学习笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    js进阶
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../js进阶/异步编程.html">
            
                <a href="../js进阶/异步编程.html">
            
                    
                    异步编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../js进阶/设计模式.html">
            
                <a href="../js进阶/设计模式.html">
            
                    
                    设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../js进阶/轮播图设计.html">
            
                <a href="../js进阶/轮播图设计.html">
            
                    
                    轮播图设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../js进阶/高阶函数.html">
            
                <a href="../js进阶/高阶函数.html">
            
                    
                    高阶函数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    node
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../node/node_01.html">
            
                <a href="../node/node_01.html">
            
                    
                    node_01
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../node/node_02.html">
            
                <a href="../node/node_02.html">
            
                    
                    node_02
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../node/node_03.html">
            
                <a href="../node/node_03.html">
            
                    
                    node_03
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../node/node与mongDB.html">
            
                <a href="../node/node与mongDB.html">
            
                    
                    node与mongDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../node/node基础.html">
            
                <a href="../node/node基础.html">
            
                    
                    node基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../node/node的web框架koa.html">
            
                <a href="../node/node的web框架koa.html">
            
                    
                    node的web框架koa
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    react
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.1" data-path="React前厅（基础）.html">
            
                <a href="React前厅（基础）.html">
            
                    
                    React前厅（基础）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    vue
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../vue/TypeScript.html">
            
                <a href="../vue/TypeScript.html">
            
                    
                    TypeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../vue/vue3.html">
            
                <a href="../vue/vue3.html">
            
                    
                    vue3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../vue/vue基础.html">
            
                <a href="../vue/vue基础.html">
            
                    
                    vue基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../vue/vue生态.html">
            
                <a href="../vue/vue生态.html">
            
                    
                    vue生态
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../整洁架构Clean-Architecture/">
            
                <a href="../整洁架构Clean-Architecture/">
            
                    
                    整洁架构Clean-Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../整洁架构Clean-Architecture/第一部分%20概述/README.md">
            
                <span>
            
                    
                    第一部分 概述
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1.1" data-path="../整洁架构Clean-Architecture/第一部分%20概述/1-设计与架构究竟是什么.md">
            
                <span>
            
                    
                    设计与架构究竟是什么
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.1.2" data-path="../整洁架构Clean-Architecture/第一部分%20概述/2-两个价值维度.md">
            
                <span>
            
                    
                    两个价值维度
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../整洁架构Clean-Architecture/第二部分%20从基础构件开始：编程范式/README.md">
            
                <span>
            
                    
                    第二部分 从基础构件开始：编程范式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.2.1" data-path="../整洁架构Clean-Architecture/第二部分%20从基础构件开始：编程范式/3-编程范式总览.md">
            
                <span>
            
                    
                    编程范式总览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.2" data-path="../整洁架构Clean-Architecture/第二部分%20从基础构件开始：编程范式/4-结构化编程.md">
            
                <span>
            
                    
                    结构化编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.3" data-path="../整洁架构Clean-Architecture/第二部分%20从基础构件开始：编程范式/5-面向对象编程.md">
            
                <span>
            
                    
                    面向对象编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2.4" data-path="../整洁架构Clean-Architecture/第二部分%20从基础构件开始：编程范式/6-函数式编程.md">
            
                <span>
            
                    
                    函数式编程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../整洁架构Clean-Architecture/第三部分%20设计原则/README.md">
            
                <span>
            
                    
                    第三部分 设计原则
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.3.1" data-path="../整洁架构Clean-Architecture/第三部分%20设计原则/7-SRP：单一职责原则.md">
            
                <span>
            
                    
                    SRP：单一职责原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.2" data-path="../整洁架构Clean-Architecture/第三部分%20设计原则/8-OCP：开闭原则.md">
            
                <span>
            
                    
                    OCP：开闭原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.3" data-path="../整洁架构Clean-Architecture/第三部分%20设计原则/9-LSP：里氏替换原则.md">
            
                <span>
            
                    
                    LSP：里氏替换原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.4" data-path="../整洁架构Clean-Architecture/第三部分%20设计原则/10-ISP：接口隔离原则.md">
            
                <span>
            
                    
                    ISP：接口隔离原则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3.5" data-path="../整洁架构Clean-Architecture/第三部分%20设计原则/11-DIP：依赖反转原则.md">
            
                <span>
            
                    
                    DIP：依赖反转原则
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../整洁架构Clean-Architecture/第四部分%20组件构建原则/README.md">
            
                <span>
            
                    
                    第四部分 组件构建原则
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.4.1" data-path="../整洁架构Clean-Architecture/第四部分%20组件构建原则/12-组件.md">
            
                <span>
            
                    
                    组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4.2" data-path="../整洁架构Clean-Architecture/第四部分%20组件构建原则/13-组件聚合.md">
            
                <span>
            
                    
                    组件聚合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4.3" data-path="../整洁架构Clean-Architecture/第四部分%20组件构建原则/14-组件耦合.md">
            
                <span>
            
                    
                    组件耦合
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/README.md">
            
                <span>
            
                    
                    第五部分 软件架构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.5.1" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/15-什么是软件架构.md">
            
                <span>
            
                    
                    什么是软件架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.2" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/16-独立性.md">
            
                <span>
            
                    
                    独立性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.3" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/17-划分边界.md">
            
                <span>
            
                    
                    划分边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.4" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/18-边界剖析.md">
            
                <span>
            
                    
                    边界剖析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.5" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/19-策略与层次.md">
            
                <span>
            
                    
                    策略与层次
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.6" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/20-业务逻辑.md">
            
                <span>
            
                    
                    业务逻辑
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.7" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/21-尖叫的软件架构.md">
            
                <span>
            
                    
                    尖叫的软件架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.8" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/22-整洁架构.md">
            
                <span>
            
                    
                    整洁架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.9" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/23-展示器和谦卑对象.md">
            
                <span>
            
                    
                    展示器和谦卑对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.10" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/24-不完全边界.md">
            
                <span>
            
                    
                    不完全边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.11" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/25-层次与边界.md">
            
                <span>
            
                    
                    层次与边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.12" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/26-Main组件.md">
            
                <span>
            
                    
                    Main组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.13" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/27-服务：宏观和微观.md">
            
                <span>
            
                    
                    服务：宏观和微观
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.14" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/28-测试边界.md">
            
                <span>
            
                    
                    测试边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.15" data-path="../整洁架构Clean-Architecture/第五部分%20软件架构/29-整洁的嵌入式架构.md">
            
                <span>
            
                    
                    整洁的嵌入式架构
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../整洁架构Clean-Architecture/第六部分%20实现细节/README.md">
            
                <span>
            
                    
                    第六部分 实现细节
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../整洁架构Clean-Architecture/第六部分%20实现细节/30-数据库只是实现细节.md">
            
                <span>
            
                    
                    数据库只是实现细节
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../整洁架构Clean-Architecture/第六部分%20实现细节/31-Web是实现细节.md">
            
                <span>
            
                    
                    Web是实现细节
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.3" data-path="../整洁架构Clean-Architecture/第六部分%20实现细节/32-应用程序框架是实现细节.md">
            
                <span>
            
                    
                    应用程序框架是实现细节
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.4" data-path="../整洁架构Clean-Architecture/第六部分%20实现细节/33-案例分析：视频销售网站.md">
            
                <span>
            
                    
                    案例分析：视频销售网站
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.5" data-path="../整洁架构Clean-Architecture/第六部分%20实现细节/34-拾遗.md">
            
                <span>
            
                    
                    拾遗
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../整洁架构Clean-Architecture/afterword.html">
            
                <a href="../整洁架构Clean-Architecture/afterword.html">
            
                    
                    afterword
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    杂篇
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../杂篇/直播.html">
            
                <a href="../杂篇/直播.html">
            
                    
                    直播
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../杂篇/踩坑日记.html">
            
                <a href="../杂篇/踩坑日记.html">
            
                    
                    踩坑日记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../杂篇/预习资料.html">
            
                <a href="../杂篇/预习资料.html">
            
                    
                    预习资料
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../计算机网络/计算机网络.html">
            
                <a href="../计算机网络/计算机网络.html">
            
                    
                    计算机网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../计算机网络/工具链和其他.html">
            
                <a href="../计算机网络/工具链和其他.html">
            
                    
                    工具链和其他
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../计算机网络/浏览器状态同步和路由.html">
            
                <a href="../计算机网络/浏览器状态同步和路由.html">
            
                    
                    浏览器状态同步和路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../计算机网络/网络安全攻防.html">
            
                <a href="../计算机网络/网络安全攻防.html">
            
                    
                    网络安全攻防
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >React前厅（基础）</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="react">React</h1>
<h2 id="前言">前言</h2>
<p>基础 + 进阶</p>
<p>facebook的工程师2011年开发的</p>
<p>专注于业务开发，减少与DOM的交互</p>
<p>用于构建用户界面的javascript库</p>
<p>同样是基于虚拟DOM，将更改映射到虚拟DOM，最后渲染成真实DOM</p>
<p><strong>为何选择？</strong></p>
<p>相比于vue、angular，应用更加广泛。</p>
<p>生态完善、友好的开发环境</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/react生态.png" alt="生态"></p>
<h2 id="基础入门（前厅）">基础入门（前厅）</h2>
<h3 id="环境配置">环境配置</h3>
<p>NVM：node版本管理</p>
<p>VSCode</p>
<p>Node</p>
<p>Create react App： 脚手架，其实也可以用vite</p>
<p><strong>Vite</strong></p>
<p><code>npm init vite@latest</code> 初始化一个vite项目</p>
<p>跟着选项选择就可以了</p>
<p><code>npm install</code> 项目创建好后，安装依赖</p>
<p><code>vite/npm run dev</code>就可以跑起来了</p>
<h4 id="工具插件：bootsrap、第三方插件、eject">工具插件：bootsrap、第三方插件、eject</h4>
<p>扩展：simple react snippets</p>
<p>eject命令将一些隐藏的内容和配置展示出来。 </p>
<p>codesandbox：在线网站（提供各种环境）</p>
<h3 id="jsx">JSX</h3>
<p>构建组件的要点：</p>
<ul>
<li>组件位置，在树状图里的位置</li>
<li>确定参数，有哪些参数是必须的，那些是缺省的；那些缺省值在其他场景可以复用</li>
<li>组件类型，函数组件还是Class组件</li>
<li>组件内容，包含哪些数据，返回那些内容</li>
<li>组件的通信与交互</li>
</ul>
<p>定义：</p>
<ul>
<li>不是模版引擎语言（angular、vue）是带语法糖的AST（抽象语法树:christmas_tree:）</li>
<li>声明式创建UI，处理UI逻辑</li>
<li>遵循JS语法</li>
</ul>
<p>渲染逻辑是UI中逻辑的耦合(事件绑定等)，这也遵循了「关注点分离原则」</p>
<h4 id="关于babel">关于Babel</h4>
<p>他是一个Javascript编译器，比如将箭头函数编译为低版本亦可使用的正常函数。</p>
<p>babel会把JSX中的XML转化成浏览器可以执行的代码，也就是生成DOM树:evergreen_tree:所需要的DOM操作。</p>
<h4 id="fragment">Fragment</h4>
<p>一个虚拟的节点包裹两个并列的子节点，来保证babel可以解析并列的子节点。但是真实DOM中是没有这个节点的。</p>
<p>简写：<code>&lt;&gt;&lt;/&gt;</code></p>
<p>除了以上的情形，还可用作表格父子组件中子组件「列」的包裹。</p>
<h4 id="拓展">拓展</h4>
<p>babel的运行原理：解析（parse），转换（transform），生成（generate）。</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/babel原理.png" alt="babel原理"></p>
<p><strong>解析</strong></p>
<p>使用 babylon 解析器对输入的源代码字符串进行解析并生成初始 AST（File.prototype.parse）</p>
<p>利用 babel-traverse 这个独立的包对 AST 进行遍历，并解析出整个树的 path，通过挂载的 metadataVisitor 读取对应的元信息，这一步叫 set AST 过程</p>
<p><strong>转换</strong></p>
<p>transform 过程：遍历 AST 树并应用各 transformers（plugin） 生成变换后的 AST 树</p>
<p>babel 中最核心的是 babel-core，它向外暴露出 babel.transform 接口。</p>
<p><strong>生成</strong></p>
<p>利用 babel-generator 将 AST 树输出为转码后的代码字符串</p>
<p>资料阅读<a href="https://github.com/barretlee/babel-plugin-ast" target="_blank">https://github.com/barretlee/babel-plugin-ast</a></p>
<h3 id="css">CSS</h3>
<p>行内样式</p>
<pre><code class="lang-JSX"><span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{color:</span> &apos;#<span class="hljs-attr">777</span>&apos;,<span class="hljs-attr">fontSize</span> <span class="hljs-attr">:</span> &apos;<span class="hljs-attr">80px</span>&apos;}&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span>
}
</code></pre>
<p>CSS module =&gt; 全局污染、命名重复、依赖管理</p>
<p>可以达到：一个class代表一类样式，选择器不堆叠，通过compose进行依赖组合。</p>
<pre><code class="lang-css"><span class="hljs-selector-class">.title</span>{
  composes: common from <span class="hljs-string">&apos;common.module.css&apos;</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">25px</span>;
}
</code></pre>
<p>一个CSS的解决方案：<a href="https://styled-components.com/" target="_blank">styled-Component</a></p>
<p>还有一个工具：Classnames</p>
<pre><code class="lang-jSX"><span class="hljs-keyword">import</span> classnames <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;classnames/bind&apos;</span>
<span class="hljs-keyword">import</span> style <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;style.module.css&apos;</span>

<span class="hljs-keyword">const</span> cls = classnames(style)
<span class="hljs-keyword">const</span> app = <span class="hljs-function">()=&gt;</span>{
  <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{cls(</span>&apos;<span class="hljs-attr">abc</span>&apos;)}&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{style.abc}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h3 id="props">Props</h3>
<p>什么是Pros？</p>
<p>当React元素作为自定义组件，将JSX所接受的属性转化为单个对象传递给组件，这个对象被称为props</p>
<p>也就是父组件传给子组件的对象。也是一个组件的固有属性。</p>
<h4 id="函数组件与类组件">函数组件与类组件</h4>
<p>他们的不同在于参数的传递和拿取</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">const</span> listItem = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{props.data.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span> {
    <span class="hljs-built_in">this</span>.props = props,
  }
  <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{props.data.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>函数组件也称作无状态组件，组件内没有this（组件示实例），也没有生命周期。是一个轻量的组件。</p>
<h4 id="列表渲染">列表渲染</h4>
<pre><code class="lang-jsx"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItem</span> </span>{
    <span class="hljs-keyword">const</span> listData = []
  <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        {listData.map(v =&gt; {
          return (
              <span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span> <span class="hljs-attr">data</span> = <span class="hljs-string">{v}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{v.id}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ListItem</span>&gt;</span>
          )
        })}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 id="条件渲染">条件渲染</h4>
<pre><code class="lang-jsx"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">props</span>)</span> {
    <span class="hljs-built_in">this</span>.props = props,
  }
  <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span> = <span class="hljs-string">&quot;row&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span> = <span class="hljs-string">&apos;col col-1&apos;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>                                                                            {this.props.data.name}
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;col col-1&quot;</span>&gt;</span>                                    {this.props.data.price}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span> =<span class="hljs-string">{</span>`<span class="hljs-attr">themed-grid-col</span>${<span class="hljs-attr">count</span> ? &apos;&apos; <span class="hljs-attr">:</span> &apos;<span class="hljs-attr">-s</span>&apos;}`}&gt;</span>
        {count}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>  
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h2 id="进阶知识（正殿）">进阶知识（正殿）</h2>
<h3 id="事件处理">事件处理</h3>
<p>React事件和DOM事件大相径庭</p>
<p>在使用this调用其他方法时，会发现this为undefined，此时可以使用bind方法绑定this：</p>
<ol>
<li>在return的XML中调用方法时bind绑定this</li>
<li>在构造函数里绑定this，并代替原来的方法。</li>
<li>使用箭头函数创建方法</li>
</ol>
<h4 id="向事件处理函数传递参数">向事件处理函数传递参数</h4>
<p>在XML中传入参数：用bind传递；用箭头函数传递参数。</p>
<p>两个方法的前提都是为了this指向明确，然后传递参数。</p>
<pre><code class="lang-jsx"><span class="hljs-comment">// 自己包装的方法</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ListItem</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  state = { <span class="hljs-attr">name</span>:<span class="hljs-string">&apos;八戒&apos;</span> } 
  handel = <span class="hljs-function">(<span class="hljs-params">name</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">ev</span>)=&gt;</span>{
      <span class="hljs-built_in">console</span>.log(name + <span class="hljs-string">&apos; hello!&apos;</span>)
      <span class="hljs-built_in">console</span>.log(ev)
    } 
  }
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> { 
    <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.handel(this.state.name)}</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>);
  }
}
<span class="hljs-comment">// 老师讲的方法</span>
handel = <span class="hljs-function">(<span class="hljs-params">name,ev</span>)=&gt;</span>{
    <span class="hljs-built_in">console</span>.log(name + <span class="hljs-string">&apos; hello!&apos;</span>)
  <span class="hljs-built_in">console</span>.log(ev)
  }
  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> { 
    <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{(ev)</span>=&gt;</span>this.handel(this.state.name,ev)}&gt;hello<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>);
</code></pre>
<h4 id="向父组件传递参数">向父组件传递参数</h4>
<p>在子组件上定义一个事件<code>onDel</code>绑定到父组件的处理函数上，然后在子组件里通过并绑定点击事件<code>onClick</code>到自定义事件<code>onDel</code>上来传参；子组件可以引用父组件的事件<code>onClick = this.props.onDel(id)</code></p>
<h4 id="事件机制">事件机制</h4>
<p>DOM的事件机制：捕获 =&gt; 目标事件处理 =&gt; 冒泡</p>
<p>所以可以进行「事件委托」</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/DOM事件处理机制.png" alt="DOM事件"></p>
<p>React事件机制：事件都会被绑定在document上，一般会在冒泡阶段处理</p>
<p><img src="https://raw.githubusercontent.com/jasonk0/myImage-blog/master/imgs/React的事件机制.png" alt="React事件"></p>
<p>React事件是合成事件，在document监听所有的支持事件，使用统一的分发函数dispatchEvent</p>
<h4 id="拓展">拓展</h4>
<blockquote>
<p>合成事件（SyntheticEvent）：React自己实现了一套高效的事件注册，存储，分发和重用逻辑，在DOM事件体系基础上做了很大改进，减少了内存消耗，简化了事件逻辑，并最大化的解决了IE等浏览器的不兼容问题。</p>
</blockquote>
<p>特点如下：</p>
<ol>
<li>SyntheticEvent最终绑定在document上，相当于做了最高层的事件委托，也简化了DOM原生事件的流程，减少了内存开销</li>
<li>由于原生事件是先于合成事件的，而且合成事件的冒泡机制是通过将目标组件和处理函数加入「事件处理模型」生成「处理函数队列」，再使用统一的分发函数dispatchEvent去执行处理函数的方式实现的；所以使用<code>stopPropagation()</code>是无法停止事件冒泡的，应该使用<code>preventDefault()</code>来阻止事件传播。</li>
<li>React使用对象池来管理合成事件对象的创建和销毁，减少了垃圾生成和新内存的分配，大大提高性能。</li>
</ol>
<h3 id="state">state</h3>
<p>React-devTools调试工具</p>
<h4 id="基础">基础</h4>
<p>定义：在constructor里定义state</p>
<p><strong>何时定义？</strong></p>
<p>是否可以通过props父组件获取；是否可以通过其他state和props计算得到；是否在render方法中使用。</p>
<p><strong>如何修改State？</strong></p>
<ul>
<li><p>通过this.setState。</p>
</li>
<li><p>setState是异步的</p>
</li>
<li>State的更新是浅合并，也就是将多次修改合并为一次</li>
</ul>
<p><strong>不可变数据</strong></p>
<p>状态是不可变类型，只能更新覆盖</p>
<p>状态的类型是数组时，用新的数组替换原数组</p>
<p>状态的类型是对象时，用Object.assign()拷贝一个新的对象。有时需要深拷贝</p>
<p>Immuter JS 库</p>
<p><strong>State和props的区别</strong></p>
<p>State：</p>
<ul>
<li>可更改的</li>
<li>组件内部更改</li>
<li>交互或其他逻辑造成的数据更新</li>
</ul>
<p>Props：</p>
<ul>
<li>在组件内部不可变</li>
<li>父组件传入</li>
<li>简单的单向数据流</li>
</ul>
<p>state 可以通过 proos 传入子组件</p>
<p>props 可以初始化 state</p>
<h4 id="进阶">进阶</h4>
<p>一般情况下porps、state即使不变仍然会调用render函数，完全没必要。可以通过shouldComponentUpdata来进行判断前后值是否一样，一样的话就不render；或者可以使用更方便的PureComponent</p>
<p><strong>单一数据源</strong></p>
<p>同一页面下的组件使用一个数据源</p>
<p>子组件的数据依赖于父组件传递的props，如果子组件存在状态变更，则将其转化为事件传递给父组件处理。这样可以保证父子组件的状态都以父组件为准</p>
<p>单一数据流：仅从父组件流向子组件</p>
<p><strong>状态提升</strong></p>
<p>就是将兄弟组件的状态统一提升到他们的父组件进行管理</p>
<p>把状态提升到最上边一层</p>
<p><strong>无状态&amp;有状态</strong></p>
<p>有状态组件：容器组件、类组件、处理状态</p>
<p>无状态组件：函数组件、仅展示组件</p>
<p><strong>总结</strong></p>
<p>优化渲染：shouldComponentUpdata或者pureComponent</p>
<p>使用不可变数据：方便管理响应式属性</p>
<p>单一数据源及状态提升：保证单一数据流，方便状态管理</p>
<p>无状态组件：使用函数组件书写更加简洁（仅展示）</p>
<h3 id="生命周期">生命周期</h3>
<p>三个阶段：创建阶段-更新阶段-卸载阶段</p>
<p><strong>创建阶段</strong></p>
<p>初始化：<code>constructor</code></p>
<p>​    初始化内部状态，象形设置和隐形设置，super调用基类的方法，可以直接修改state</p>
<p>挂载：</p>
<p><code>componentWillMount</code></p>
<p>​    setState不会触发render</p>
<p><code>render</code></p>
<p>​    render必须有的方法；返回一个顶级的react元素，渲染出来的是类似于DOM树的React对象，也就是虚拟的。</p>
<p><code>componentDidMount</code></p>
<p>​    渲染完调用；只执行一次；常用来获取一些外部数据资源</p>
<p><strong>更新阶段</strong></p>
<p><code>shouldComponentUpdate</code></p>
<p>​    将旧值与新值进行对比，相等的话就不会重新渲染，可以使用PureComponent代替</p>
<p><code>componentDidUpdate</code></p>
<p>​    可以比对props的前后变化，发生变化的话可以进行一些操作</p>
<p><code>componentWillUnmount</code></p>
<p>​    组件即将卸载</p>
<h3 id="react的组件设计模式">React的组件设计模式</h3>
<p>高阶组件和函数作为子组件renderProps</p>
<h4 id="高阶组件hoc">高阶组件HOC</h4>
<p>提供可复用性高，健壮性好的通用组件，减少重复代码。</p>
<p>高阶组件是对现有组件的封装，接收组件作为参数返回一个新的组件。</p>
<h4 id="函数作为子组件renderprops">函数作为子组件renderProps</h4>
<p>可以理解为子组件拿到父组件传入的props（包含着父组件的渲染函数内容）然后渲染出来</p>
<pre><code class="lang-react">// 作为子组件被调用，使用props传来的render函数渲染
// 状态依旧是在这里管理
render(){
  return (
      &lt;div&gt;
        {props.render(this.state)}
    &lt;/div&gt;
  )
}
// 作为父组件，给作为HOC的子组件传入props和需要包装的内容
// 这里解构出来状态里的参数，形参
render(){
  return (
  &lt;sonItem render={({s1,s2}) =&gt; {
        &lt;div&gt;需要包装渲染的东西&lt;/div&gt;
      }}&gt;&lt;/sonItem&gt;
    )
}
</code></pre>
<h2 id="生态工具（花园）">生态工具（花园）</h2>
<h3 id="react-router">React router</h3>
<h3 id="antdesign">AntDesign</h3>
<h2 id="高级应用（边廊）">高级应用（边廊）</h2>
<h2 id>#</h2>
<h3 id> </h3>
<h3 id> </h3>
<h3 id> </h3>
<h2 id="原理讲解（穹顶）">原理讲解（穹顶）</h2>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"React前厅（基础）","level":"1.5.1","depth":2,"next":{"title":"vue","level":"1.6","depth":1,"ref":"","articles":[{"title":"TypeScript","level":"1.6.1","depth":2,"path":"vue/TypeScript.md","ref":"vue/TypeScript.md","articles":[]},{"title":"vue3","level":"1.6.2","depth":2,"path":"vue/vue3.md","ref":"vue/vue3.md","articles":[]},{"title":"vue基础","level":"1.6.3","depth":2,"path":"vue/vue基础.md","ref":"vue/vue基础.md","articles":[]},{"title":"vue生态","level":"1.6.4","depth":2,"path":"vue/vue生态.md","ref":"vue/vue生态.md","articles":[]}]},"previous":{"title":"react","level":"1.5","depth":1,"ref":"","articles":[{"title":"React前厅（基础）","level":"1.5.1","depth":2,"path":"react/React前厅（基础）.md","ref":"react/React前厅（基础）.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":[],"root":"bookEdit","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"producer":"jasonk0","structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"react/React前厅（基础）.md","mtime":"2022-07-21T00:53:32.683Z","type":"markdown"},"gitbook":{"version":"3.7.5","time":"2022-07-26T08:28:16.173Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

